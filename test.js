 
  const unfilteredplans = [
    {
        "plan_name": "500MB",
        "plan_id": "1",
        "amount": "300.00",
        "plan_type": "SME",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "1GB",
        "plan_id": "2",
        "amount": "600.00",
        "plan_type": "SME",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "2GB",
        "plan_id": "3",
        "amount": "1,200.00",
        "plan_type": "SME",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "3GB",
        "plan_id": "4",
        "amount": "1,800.00",
        "plan_type": "SME",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "10GB",
        "plan_id": "6",
        "amount": "6,000.00",
        "plan_type": "SME",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "500MB",
        "plan_id": "7",
        "amount": "272.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "1GB",
        "plan_id": "8",
        "amount": "544.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "2GB",
        "plan_id": "9",
        "amount": "1,088.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "5GB",
        "plan_id": "10",
        "amount": "2,720.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "1.5GB",
        "plan_id": "11",
        "amount": "460.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "2.9GB",
        "plan_id": "12",
        "amount": "940.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "4.1GB",
        "plan_id": "13",
        "amount": "1,290.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "5.8GB",
        "plan_id": "14",
        "amount": "1,850.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "10GB",
        "plan_id": "15",
        "amount": "3,030.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "50MB",
        "plan_id": "16",
        "amount": "30.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "150MB",
        "plan_id": "17",
        "amount": "80.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "250MB",
        "plan_id": "18",
        "amount": "90.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "500MB",
        "plan_id": "19",
        "amount": "133.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30 days",
        "network": "MTN"
    },
    {
        "plan_name": "1GB",
        "plan_id": "20",
        "amount": "265.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30 days",
        "network": "MTN"
    },
    {
        "plan_name": "2GB",
        "plan_id": "21",
        "amount": "530.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "3GB",
        "plan_id": "22",
        "amount": "795.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30 days",
        "network": "MTN"
    },
    {
        "plan_name": "5GB",
        "plan_id": "23",
        "amount": "1,325.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "10GB",
        "plan_id": "24",
        "amount": "2,650.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "1.1GB",
        "plan_id": "25",
        "amount": "400.00",
        "plan_type": "SME",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "10GB",
        "plan_id": "26",
        "amount": "5,440.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "1.5GB",
        "plan_id": "27",
        "amount": "880.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "500MB",
        "plan_id": "28",
        "amount": "450.00",
        "plan_type": "GIFTING",
        "plan_day": "30 days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "200MB",
        "plan_id": "29",
        "amount": "60.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "500MB",
        "plan_id": "30",
        "amount": "147.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30 days",
        "network": "GLO"
    },
    {
        "plan_name": "1GB",
        "plan_id": "31",
        "amount": "295.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30 days",
        "network": "GLO"
    },
    {
        "plan_name": "2GB",
        "plan_id": "32",
        "amount": "540.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "3GB",
        "plan_id": "33",
        "amount": "810.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "5GB",
        "plan_id": "34",
        "amount": "1,335.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "GLO"
    },
    {
        "plan_name": "10GB",
        "plan_id": "35",
        "amount": "2,670.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days after redeeming",
        "network": "GLO"
    },
    {
        "plan_name": "2GB",
        "plan_id": "38",
        "amount": "498.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "1GB",
        "plan_id": "39",
        "amount": "252.00",
        "plan_type": "GIFTING",
        "plan_day": "30 days",
        "network": "MTN"
    },
    {
        "plan_name": "1TB",
        "plan_id": "40",
        "amount": "97,000.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "Yearly",
        "network": "MTN"
    },
    {
        "plan_name": "7GB",
        "plan_id": "43",
        "amount": "3,000.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "7days",
        "network": "MTN"
    },
    {
        "plan_name": "300MB",
        "plan_id": "44",
        "amount": "200.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "100MB",
        "plan_id": "45",
        "amount": "100.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "500MB",
        "plan_id": "46",
        "amount": "70.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30 days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "1GB",
        "plan_id": "47",
        "amount": "137.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "2GB",
        "plan_id": "48",
        "amount": "280.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "3GB",
        "plan_id": "49",
        "amount": "420.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "4GB",
        "plan_id": "50",
        "amount": "660.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "5GB",
        "plan_id": "51",
        "amount": "825.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "10GB",
        "plan_id": "52",
        "amount": "1,650.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "9MOBILE"
    },
    {
        "plan_name": "750MB",
        "plan_id": "53",
        "amount": "480.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "1.5GB",
        "plan_id": "54",
        "amount": "1,000.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "2GB",
        "plan_id": "55",
        "amount": "1,200.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "3GB",
        "plan_id": "56",
        "amount": "1,500.00",
        "plan_type": "GIFTING",
        "plan_day": "1500",
        "network": "AIRTEL"
    },
    {
        "plan_name": "4.5GB",
        "plan_id": "57",
        "amount": "2,000.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "11GB",
        "plan_id": "58",
        "amount": "4,000.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "4GB",
        "plan_id": "59",
        "amount": "1,060.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "1.5GB",
        "plan_id": "60",
        "amount": "397.50",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "1GB",
        "plan_id": "61",
        "amount": "340.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "1day and 3minutes call",
        "network": "MTN"
    },
    {
        "plan_name": "400GB",
        "plan_id": "62",
        "amount": "49,000.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "90 days plan",
        "network": "MTN"
    },
    {
        "plan_name": "2GB",
        "plan_id": "63",
        "amount": "420.00",
        "plan_type": "GIFTING",
        "plan_day": "30 days",
        "network": "MTN"
    },
    {
        "plan_name": "3GB",
        "plan_id": "64",
        "amount": "660.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "5GB",
        "plan_id": "65",
        "amount": "1,100.00",
        "plan_type": "GIFTING",
        "plan_day": "30 days",
        "network": "MTN"
    },
    {
        "plan_name": "500MB",
        "plan_id": "66",
        "amount": "130.00",
        "plan_type": "GIFTING",
        "plan_day": "30days",
        "network": "MTN"
    },
    {
        "plan_name": "150MB",
        "plan_id": "67",
        "amount": "70.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "1 day",
        "network": "AIRTEL"
    },
    {
        "plan_name": "300MB",
        "plan_id": "68",
        "amount": "130.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "2 days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "1GB",
        "plan_id": "69",
        "amount": "290.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "2 days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "2GB",
        "plan_id": "70",
        "amount": "560.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "2 days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "3GB",
        "plan_id": "71",
        "amount": "1,065.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "7 days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "7GB",
        "plan_id": "72",
        "amount": "2,065.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "7days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "10GB",
        "plan_id": "73",
        "amount": "3,070.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "20GB",
        "plan_id": "74",
        "amount": "4,050.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "3GB",
        "plan_id": "75",
        "amount": "816.00",
        "plan_type": "COOPERATE GIFTING",
        "plan_day": "30days",
        "network": "AIRTEL"
    },
    {
        "plan_name": "1GB",
        "plan_id": "76",
        "amount": "200.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "24hours",
        "network": "GLO"
    },
    {
        "plan_name": "2GB",
        "plan_id": "77",
        "amount": "300.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "24hours",
        "network": "GLO"
    },
    {
        "plan_name": "3.5GB",
        "plan_id": "78",
        "amount": "500.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "2 days",
        "network": "GLO"
    },
    {
        "plan_name": "15GB",
        "plan_id": "79",
        "amount": "1,950.00",
        "plan_type": "GIFTING PROMO",
        "plan_day": "7 days",
        "network": "GLO"
    }
]

var plans = unfilteredplans.map(plan => {
    const mbSize = convertToMB(plan.planName || plan.plan_name);
    const hundreds = Math.floor(mbSize / 100);
    const originalAmount = parseFloat(plan.amount.replace(',', ''));
    const newAmount = originalAmount + hundreds;
    
    return {
      planName: plan.planName || plan.plan_name,
      planId: plan.planId  || plan.plan_id,
      amount: newAmount.toFixed(2),
      planType: plan.planType || plan.plan_type,
      duration: plan.duration || plan.plan_day,
      network: plan.network
    };
  })
// Function to convert data size to MB
function convertToMB(size) {
    const value = parseFloat(size);
    if (size.includes('TB')) return value * 1024 * 1024; // TB to MB
    if (size.includes('GB')) return value * 1024; // GB to MB
    if (size.includes('MB')) return value; // Already in MB
    return 0; // Invalid size
  }
  
  function filterPlans(plans, network, excludePlanTypes) {
    return plans
      .filter(plan => {
        // Keep plan if:
        // 1. It's not from the specified network, OR
        // 2. It's from the specified network but its planType is not in the exclude list
        return plan.network !== network || !excludePlanTypes.includes(plan.planType);
      })
      .sort((a, b) => {
        // Sort by network first
        if (a.network < b.network) return -1;
        if (a.network > b.network) return 1;
        
        // Then sort by data size
        const aMB = convertToMB(a.planName);
        const bMB = convertToMB(b.planName);
        return aMB - bMB;
      });
  }
  
  // Example usage:
  // Remove "COOPERATE GIFTING" and "GIFTING" plan types from MTN network
  const filteredMtn = filterPlans(
    plans, 
    "MTN", 
    ["COOPERATE GIFTING", "GIFTING"]
  );
  const filteredAirtel = filterPlans(
    filteredMtn, 
    "AIRTEL", 
    ["GIFTING"]
  );
  const filteredPlans = filterPlans(
    filteredAirtel, 
    "GLO", 
    ["GIFTING PROMO"]
  );
  // Output the filtered results
  console.log(JSON.stringify(filteredPlans, null, 2));